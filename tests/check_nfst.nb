(* Content-type: application/mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 7.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       145,          7]
NotebookDataLength[     48504,       1189]
NotebookOptionsPosition[     46991,       1158]
NotebookOutlinePosition[     47502,       1176]
CellTagsIndexPosition[     47459,       1173]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[{
 RowBox[{
  RowBox[{"AppendTo", "[", 
   RowBox[{"$Path", ",", " ", 
    RowBox[{"NotebookDirectory", "[", "]"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"<<", "PrintVector`"}]}], "Input",
 InitializationCell->True,
 InitializationGroup->True,
 CellChangeTimes->{{3.4975401175502357`*^9, 3.497540122081654*^9}, {
   3.4975401577475357`*^9, 3.4975404433537083`*^9}, {3.497540482896634*^9, 
   3.4975405759100437`*^9}, {3.497541105993033*^9, 3.497541123798511*^9}, {
   3.497542050468046*^9, 3.497542062974934*^9}, {3.497542456642642*^9, 
   3.497542474403122*^9}, {3.497542524646307*^9, 3.497542533911161*^9}, {
   3.4975426113736467`*^9, 3.497542615636695*^9}, 3.49754300944394*^9, 
   3.497543161820746*^9, {3.4975433080968943`*^9, 3.497543333089579*^9}, {
   3.497634816866467*^9, 3.497634822396894*^9}, 3.497634889182472*^9, {
   3.4976349550362673`*^9, 3.497635002695628*^9}, {3.497635080038419*^9, 
   3.4976350905563173`*^9}, {3.497720303149754*^9, 3.497720340683272*^9}, 
   3.497720446950582*^9, {3.497720543770192*^9, 3.497720554263856*^9}, {
   3.497720624718094*^9, 3.4977206409163923`*^9}, {3.497720745653871*^9, 
   3.497720821394751*^9}, {3.497720852170191*^9, 3.497720892717999*^9}, {
   3.497720926142789*^9, 3.497720963010685*^9}, {3.49772100166604*^9, 
   3.4977210066482897`*^9}, {3.497721154131791*^9, 3.4977211732733927`*^9}, {
   3.497721253141778*^9, 3.497721260212431*^9}, {3.4977213873833313`*^9, 
   3.497721394326082*^9}, {3.4977214268766117`*^9, 3.497721450684969*^9}, 
   3.517368305980814*^9, 3.517368338946211*^9, {3.548337349389185*^9, 
   3.54833735124184*^9}},ExpressionUUID->"aed704da-1ca1-45ec-9895-\
01bb81359921"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"P", "=", "64"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"Working", " ", 
    RowBox[{"precision", "."}]}], " ", "*)"}]}]], "Input",
 InitializationCell->True,
 InitializationGroup->True,
 CellChangeTimes->{{3.5173364544175253`*^9, 3.517336455143111*^9}, {
  3.548337583667452*^9, 
  3.548337584482711*^9}},ExpressionUUID->"6204fefe-bda5-445d-b016-\
e9180f4f42d1"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"GenerateFilename", "[", "prefix_", "]"}], "[", 
   RowBox[{"NN_", ",", "M_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"d", "=", 
      RowBox[{"Length", "[", "NN", "]"}]}], " ", 
     RowBox[{"(*", " ", 
      RowBox[{"Dimension", "."}], " ", "*)"}], "}"}], ",", 
    RowBox[{"Return", "[", 
     RowBox[{"FileNameJoin", "[", 
      RowBox[{"{", 
       RowBox[{"prefix", ",", 
        RowBox[{"\"\<nfst_\>\"", "<>", 
         RowBox[{"ToString", "[", "d", "]"}], "<>", "\"\<d_\>\"", "<>", 
         RowBox[{"StringJoin", "[", 
          RowBox[{
           RowBox[{"Map", "[", 
            RowBox[{
             RowBox[{"Function", "[", 
              RowBox[{"x", ",", 
               RowBox[{
                RowBox[{"ToString", "[", "x", "]"}], "<>", "\"\<_\>\""}]}], 
              "]"}], ",", "NN"}], "]"}], "<>", 
           RowBox[{"ToString", "[", "M", "]"}], "<>", "\"\<.txt\>\""}], 
          "]"}]}]}], "}"}], "]"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"GenerateFilenameAdjoint", "[", "prefix_", "]"}], "[", 
   RowBox[{"NN_", ",", "M_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"d", "=", 
      RowBox[{"Length", "[", "NN", "]"}]}], " ", 
     RowBox[{"(*", " ", 
      RowBox[{"Dimension", "."}], " ", "*)"}], "}"}], ",", 
    RowBox[{"Return", "[", 
     RowBox[{"FileNameJoin", "[", 
      RowBox[{"{", 
       RowBox[{"prefix", ",", 
        RowBox[{"\"\<nfst_adjoint_\>\"", "<>", 
         RowBox[{"ToString", "[", "d", "]"}], "<>", "\"\<d_\>\"", "<>", 
         RowBox[{"StringJoin", "[", 
          RowBox[{
           RowBox[{"Map", "[", 
            RowBox[{
             RowBox[{"Function", "[", 
              RowBox[{"x", ",", 
               RowBox[{
                RowBox[{"ToString", "[", "x", "]"}], "<>", "\"\<_\>\""}]}], 
              "]"}], ",", "NN"}], "]"}], "<>", 
           RowBox[{"ToString", "[", "M", "]"}], "<>", "\"\<.txt\>\""}], 
          "]"}]}]}], "}"}], "]"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Generate", "[", 
   RowBox[{"NN_", ",", "M_", ",", "FilenameGenerator_"}], "]"}], ":=", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"d", "=", 
       RowBox[{"Length", "[", "NN", "]"}]}], ",", " ", 
      RowBox[{"(*", " ", 
       RowBox[{"Dimension", "."}], " ", "*)"}], "\[IndentingNewLine]", 
      "file"}], "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"SeedRandom", "[", "1", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"II", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"Table", "[", 
         RowBox[{"k", ",", 
          RowBox[{"{", 
           RowBox[{"k", ",", "1", ",", 
            RowBox[{
             RowBox[{"NN", "[", 
              RowBox[{"[", "i", "]"}], "]"}], "-", "1"}]}], "}"}]}], "]"}], 
        ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", "d"}], "}"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"II", "[", 
       RowBox[{"[", "0", "]"}], "]"}], "=", "Sequence"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"II", "=", 
      RowBox[{"Flatten", "[", 
       RowBox[{
        RowBox[{"Outer", "[", 
         RowBox[{"List", ",", "II"}], "]"}], ",", 
        RowBox[{"d", "-", "1"}]}], "]"}]}], ";", 
     RowBox[{"(*", " ", 
      RowBox[{"Index", " ", 
       RowBox[{"set", "."}]}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"x", " ", "=", 
      RowBox[{"Transpose", "[", " ", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"RandomReal", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", 
             RowBox[{"1", "/", "2"}]}], "}"}], ",", "M", ",", 
           RowBox[{"WorkingPrecision", "\[Rule]", "P"}]}], "]"}], 
         RowBox[{"(*", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"1", "/", "4"}], ",", 
            RowBox[{"{", 
             RowBox[{"j", ",", "1", ",", "M"}], "}"}]}], "]"}], "*)"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", "d"}], "}"}]}], "]"}], "]"}]}], ";", 
     RowBox[{"(*", " ", 
      RowBox[{"Random", " ", 
       RowBox[{"nodes", "."}]}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"fhat", " ", "=", " ", 
      RowBox[{"(*", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"i", "\[Equal]", "3"}], ",", "1", ",", "0"}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "II", "]"}]}], "}"}]}], "]"}], "*)"}], " ", 
      
      RowBox[{"RandomReal", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"-", "1"}], ",", "1"}], "}"}], ",", 
        RowBox[{"Length", "[", "II", "]"}], ",", 
        RowBox[{"WorkingPrecision", "\[Rule]", "P"}]}], "]"}]}], ";", " ", 
     RowBox[{"(*", " ", 
      RowBox[{"Random", " ", "Fourier", " ", 
       RowBox[{"coefficients", "."}]}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"f", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"Sum", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"fhat", "[", 
            RowBox[{"[", "k", "]"}], "]"}], "*", 
           RowBox[{"Product", "[", 
            RowBox[{
             RowBox[{"Sin", "[", 
              RowBox[{"2", "*", "\[Pi]", "*", 
               RowBox[{
                RowBox[{"II", "[", 
                 RowBox[{"[", "k", "]"}], "]"}], "[", 
                RowBox[{"[", "i", "]"}], "]"}], "*", 
               RowBox[{
                RowBox[{"x", "[", 
                 RowBox[{"[", "j", "]"}], "]"}], "[", 
                RowBox[{"[", "i", "]"}], "]"}]}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "1", ",", "d"}], "}"}]}], "]"}]}], ",", 
          RowBox[{"{", 
           RowBox[{"k", ",", "1", ",", 
            RowBox[{"Length", "[", "II", "]"}]}], "}"}]}], "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"j", ",", "1", ",", "M"}], "}"}]}], "]"}]}], ";", 
     RowBox[{"(*", " ", 
      RowBox[{"Function", " ", 
       RowBox[{"values", "."}]}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"filename", "=", 
      RowBox[{"FilenameGenerator", "[", 
       RowBox[{"NN", ",", "M"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"file", " ", "=", " ", 
      RowBox[{"OpenWrite", "[", "filename", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"file", ",", " ", 
       RowBox[{
        RowBox[{"FormatIntegerRaw", "[", "d", "]"}], " ", "<>", 
        "\"\<\\n\>\""}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"file", ",", " ", 
       RowBox[{
        RowBox[{"FormatIntegerVectorRaw", "[", "NN", "]"}], "<>", 
        "\"\<\\n\>\""}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"file", ",", " ", 
       RowBox[{
        RowBox[{"FormatIntegerRaw", "[", "M", "]"}], "<>", "\"\<\\n\>\""}]}], 
      "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"file", ",", " ", 
       RowBox[{
        RowBox[{"FormatVectorRaw", "[", 
         RowBox[{"Flatten", "[", "x", "]"}], "]"}], "<>", "\"\<\\n\>\""}]}], 
      "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"file", ",", " ", 
       RowBox[{
        RowBox[{"FormatVectorRaw", "[", "fhat", "]"}], "<>", 
        "\"\<\\n\>\""}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"file", ",", " ", 
       RowBox[{
        RowBox[{"FormatVectorRaw", "[", "f", "]"}], "<>", "\"\<\\n\>\""}]}], 
      "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"Close", "[", "file", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Print", "[", "filename", "]"}], ";"}], "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"Return", "[", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"FileBaseName", "[", 
         RowBox[{"FileNameTake", "[", 
          RowBox[{"filename", ",", 
           RowBox[{"-", "1"}]}], "]"}], "]"}], ",", " ", 
        RowBox[{"FileNameTake", "[", 
         RowBox[{"filename", ",", 
          RowBox[{"-", "2"}]}], "]"}]}], "}"}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"GenerateAdjoint", "[", 
   RowBox[{"NN_", ",", "M_", ",", "FilenameGenerator_"}], "]"}], ":=", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"d", "=", 
       RowBox[{"Length", "[", "NN", "]"}]}], ",", " ", 
      RowBox[{"(*", " ", 
       RowBox[{"Dimension", "."}], " ", "*)"}], "\[IndentingNewLine]", 
      "file"}], "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"SeedRandom", "[", "1", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"II", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"Table", "[", 
         RowBox[{"k", ",", 
          RowBox[{"{", 
           RowBox[{"k", ",", "1", ",", 
            RowBox[{
             RowBox[{"NN", "[", 
              RowBox[{"[", "i", "]"}], "]"}], "-", "1"}]}], "}"}]}], "]"}], 
        ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", "d"}], "}"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"II", "[", 
       RowBox[{"[", "0", "]"}], "]"}], "=", "Sequence"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"II", "=", 
      RowBox[{"Flatten", "[", 
       RowBox[{
        RowBox[{"Outer", "[", 
         RowBox[{"List", ",", "II"}], "]"}], ",", 
        RowBox[{"d", "-", "1"}]}], "]"}]}], ";", 
     RowBox[{"(*", " ", 
      RowBox[{"Index", " ", 
       RowBox[{"set", "."}]}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"x", "=", 
      RowBox[{"Transpose", "[", " ", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"RandomReal", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", 
             RowBox[{"1", "/", "2"}]}], "}"}], ",", "M", ",", 
           RowBox[{"WorkingPrecision", "\[Rule]", "P"}]}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", "d"}], "}"}]}], "]"}], "]"}]}], ";", 
     RowBox[{"(*", " ", 
      RowBox[{"Random", " ", 
       RowBox[{"nodes", "."}]}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"f", "=", 
      RowBox[{"RandomReal", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"-", "1"}], ",", "1"}], "}"}], ",", "M", ",", 
        RowBox[{"WorkingPrecision", "\[Rule]", "P"}]}], "]"}]}], ";", 
     RowBox[{"(*", " ", 
      RowBox[{"Random", " ", "function", " ", 
       RowBox[{"values", "."}]}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"fhat", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"Sum", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"f", "[", 
            RowBox[{"[", "j", "]"}], "]"}], "*", 
           RowBox[{"Product", "[", 
            RowBox[{
             RowBox[{"Sin", "[", 
              RowBox[{"2", "*", "\[Pi]", "*", 
               RowBox[{
                RowBox[{"II", "[", 
                 RowBox[{"[", "k", "]"}], "]"}], "[", 
                RowBox[{"[", "i", "]"}], "]"}], "*", 
               RowBox[{
                RowBox[{"x", "[", 
                 RowBox[{"[", "j", "]"}], "]"}], "[", 
                RowBox[{"[", "i", "]"}], "]"}]}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "1", ",", "d"}], "}"}]}], "]"}]}], ",", 
          RowBox[{"{", 
           RowBox[{"j", ",", "1", ",", "M"}], "}"}]}], "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"k", ",", "1", ",", 
          RowBox[{"Length", "[", "II", "]"}]}], "}"}]}], "]"}]}], ";", 
     RowBox[{"(*", " ", 
      RowBox[{"Pseudo", " ", "Fourier", " ", 
       RowBox[{"coefficients", "."}]}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"filename", "=", 
      RowBox[{"FilenameGenerator", "[", 
       RowBox[{"NN", ",", "M"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"file", " ", "=", " ", 
      RowBox[{"OpenWrite", "[", "filename", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"file", ",", " ", 
       RowBox[{
        RowBox[{"FormatIntegerRaw", "[", "d", "]"}], " ", "<>", 
        "\"\<\\n\>\""}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"file", ",", " ", 
       RowBox[{
        RowBox[{"FormatIntegerVectorRaw", "[", "NN", "]"}], "<>", 
        "\"\<\\n\>\""}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"file", ",", " ", 
       RowBox[{
        RowBox[{"FormatIntegerRaw", "[", "M", "]"}], "<>", "\"\<\\n\>\""}]}], 
      "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"file", ",", " ", 
       RowBox[{
        RowBox[{"FormatVectorRaw", "[", 
         RowBox[{"Flatten", "[", "x", "]"}], "]"}], "<>", "\"\<\\n\>\""}]}], 
      "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"file", ",", " ", 
       RowBox[{
        RowBox[{"FormatVectorRaw", "[", "fhat", "]"}], "<>", 
        "\"\<\\n\>\""}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"file", ",", " ", 
       RowBox[{
        RowBox[{"FormatVectorRaw", "[", "f", "]"}], "<>", "\"\<\\n\>\""}]}], 
      "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"Close", "[", "file", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Print", "[", "filename", "]"}], ";"}], "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"Return", "[", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"FileBaseName", "[", 
         RowBox[{"FileNameTake", "[", 
          RowBox[{"filename", ",", 
           RowBox[{"-", "1"}]}], "]"}], "]"}], ",", " ", 
        RowBox[{"FileNameTake", "[", 
         RowBox[{"filename", ",", 
          RowBox[{"-", "2"}]}], "]"}]}], "}"}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MakeTestcase", "[", 
   RowBox[{"NN_", ",", "M_"}], "]"}], ":=", 
  RowBox[{"Generate", "[", 
   RowBox[{"NN", ",", "M", ",", 
    RowBox[{"GenerateFilename", "[", 
     RowBox[{"FileNameJoin", "[", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"NotebookDirectory", "[", "]"}], ",", "\"\<data\>\""}], "}"}],
       "]"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MakeTestcaseAdjoint", "[", 
   RowBox[{"NN_", ",", "M_"}], "]"}], ":=", 
  RowBox[{"GenerateAdjoint", "[", 
   RowBox[{"NN", ",", "M", ",", 
    RowBox[{"GenerateFilenameAdjoint", "[", 
     RowBox[{"FileNameJoin", "[", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"NotebookDirectory", "[", "]"}], ",", "\"\<data\>\""}], "}"}],
       "]"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Formatter", "[", "x_", "]"}], ":=", 
   RowBox[{"\"\<&\>\"", "<>", "x"}]}], ";"}]}], "Input",
 InitializationCell->True,
 InitializationGroup->True,
 CellChangeTimes->{{3.4975401175502357`*^9, 3.497540122081654*^9}, {
   3.4975401577475357`*^9, 3.4975404433537083`*^9}, {3.497540482896634*^9, 
   3.4975405759100437`*^9}, {3.497541105993033*^9, 3.497541123798511*^9}, {
   3.497542050468046*^9, 3.497542062974934*^9}, {3.497542456642642*^9, 
   3.497542474403122*^9}, {3.497542524646307*^9, 3.497542533911161*^9}, {
   3.4975426113736467`*^9, 3.497542615636695*^9}, 3.49754300944394*^9, 
   3.497543161820746*^9, {3.4975433080968943`*^9, 3.497543333089579*^9}, {
   3.497634816866467*^9, 3.497634822396894*^9}, 3.497634889182472*^9, {
   3.497635656084387*^9, 3.4976356567772627`*^9}, {3.4976358827461843`*^9, 
   3.497635902805756*^9}, {3.497639560178165*^9, 3.4976395887805*^9}, {
   3.497717629788444*^9, 3.497717664775313*^9}, {3.4977177954171267`*^9, 
   3.497717811441677*^9}, {3.497717946124824*^9, 3.4977179590024843`*^9}, {
   3.497718091880231*^9, 3.497718097174159*^9}, {3.4977181869580393`*^9, 
   3.4977182306418543`*^9}, {3.4977182817373667`*^9, 3.497718295439774*^9}, {
   3.4977185155717163`*^9, 3.497718516178872*^9}, {3.4977186098337307`*^9, 
   3.497718655031732*^9}, {3.497720354018293*^9, 3.497720361711935*^9}, {
   3.51646665501819*^9, 3.516466703700296*^9}, {3.516466744180666*^9, 
   3.516466850500287*^9}, {3.516466920776816*^9, 3.516466924558702*^9}, {
   3.5164671087352133`*^9, 3.516467132940102*^9}, {3.5164672595898933`*^9, 
   3.516467335735387*^9}, {3.516467446831277*^9, 3.5164675178909597`*^9}, {
   3.516467566236536*^9, 3.516467602081119*^9}, {3.516467646594492*^9, 
   3.516467693982851*^9}, {3.516467799630619*^9, 3.5164678145625057`*^9}, {
   3.516467907906891*^9, 3.516467931231696*^9}, {3.516467974227989*^9, 
   3.516468069686613*^9}, {3.5164681647268057`*^9, 3.516468322329309*^9}, {
   3.516468353208788*^9, 3.516468402515073*^9}, {3.516468569358057*^9, 
   3.5164688697654257`*^9}, {3.516469069967986*^9, 3.516469104912592*^9}, {
   3.516469281838047*^9, 3.516469282536112*^9}, {3.516469343196455*^9, 
   3.5164693448977213`*^9}, {3.516641118739716*^9, 3.51664112101792*^9}, {
   3.5170662585360413`*^9, 3.517066346582275*^9}, {3.517066422311091*^9, 
   3.517066427735291*^9}, {3.517068514164235*^9, 3.517068550246681*^9}, {
   3.517068593075931*^9, 3.5170685931933107`*^9}, {3.517068669073209*^9, 
   3.5170686693269997`*^9}, {3.517068780917268*^9, 3.5170688290906487`*^9}, {
   3.517068882706683*^9, 3.5170688831366453`*^9}, {3.517068913481579*^9, 
   3.517068922846977*^9}, {3.5170689796719627`*^9, 3.517068986237167*^9}, {
   3.517069122334919*^9, 3.517069164248382*^9}, {3.5170692558435507`*^9, 
   3.517069255983468*^9}, {3.517069318241144*^9, 3.517069318331732*^9}, {
   3.517069353096478*^9, 3.517069353285783*^9}, {3.517069394183385*^9, 
   3.51706939429727*^9}, {3.5170694669148607`*^9, 3.517069467074445*^9}, {
   3.517069521880518*^9, 3.517069561354265*^9}, {3.5170708977239847`*^9, 
   3.517070898060605*^9}, {3.517070929587063*^9, 3.517071052229973*^9}, {
   3.5170711918685713`*^9, 3.51707122081702*^9}, {3.5170712579552593`*^9, 
   3.517071258184224*^9}, {3.517073554532979*^9, 3.517073566800956*^9}, {
   3.51707363019388*^9, 3.5170736389107037`*^9}, {3.517073698959797*^9, 
   3.51707370067715*^9}, {3.5171618948918943`*^9, 3.5171619115024137`*^9}, {
   3.517250721250164*^9, 3.5172507217341347`*^9}, {3.5173346932505627`*^9, 
   3.517334838578896*^9}, {3.517334905472475*^9, 3.517334917950143*^9}, {
   3.517334957247117*^9, 3.517334978535076*^9}, {3.517335011733391*^9, 
   3.5173350406442137`*^9}, {3.5173351201064262`*^9, 3.517335137793874*^9}, {
   3.517335375660467*^9, 3.517335412963312*^9}, {3.517335455731798*^9, 
   3.517335551041175*^9}, {3.517335604376453*^9, 3.5173357376825*^9}, {
   3.517335798572322*^9, 3.51733580322344*^9}, {3.5173358514269238`*^9, 
   3.517335963393672*^9}, {3.517336003163329*^9, 3.517336058165167*^9}, {
   3.517336256363311*^9, 3.517336305265251*^9}, {3.51733636389287*^9, 
   3.517336367248146*^9}, {3.51733647413474*^9, 3.5173364746654367`*^9}, {
   3.517336559248983*^9, 3.517336561848617*^9}, {3.517367626541649*^9, 
   3.517367705336946*^9}, {3.517367791656136*^9, 3.517367810533764*^9}, {
   3.5173680054015837`*^9, 3.5173681448802223`*^9}, {3.517368202592416*^9, 
   3.517368212221806*^9}, {3.5173682793361473`*^9, 3.517368279723124*^9}, {
   3.517368363455708*^9, 3.517368401466815*^9}, {3.517368451212386*^9, 
   3.517368463409952*^9}, {3.517368495795951*^9, 3.517368510236106*^9}, {
   3.517368551091064*^9, 3.517368595286662*^9}, {3.517368631352521*^9, 
   3.5173686772721653`*^9}, {3.517383983727648*^9, 3.5173840466805964`*^9}, {
   3.517384159065975*^9, 3.517384167298918*^9}, {3.51738422514648*^9, 
   3.517384227338999*^9}, {3.518195295280732*^9, 3.518195305846961*^9}, {
   3.518195456601633*^9, 3.518195460327448*^9}, {3.518196187080405*^9, 
   3.518196205713777*^9}, 3.518196243875588*^9, {3.518197087019044*^9, 
   3.5181970888272057`*^9}, {3.548336163833386*^9, 3.548336166412342*^9}, {
   3.548336343704324*^9, 3.548336358860406*^9}, {3.5483364701780357`*^9, 
   3.548336484144067*^9}, {3.548336529883884*^9, 3.548336540969346*^9}, {
   3.548344607348515*^9, 3.548344608870598*^9}, {3.5912500481984653`*^9, 
   3.591250076895479*^9}, {3.591250218861248*^9, 3.591250226338402*^9}, {
   3.5912503577979517`*^9, 3.59125035946841*^9}, {3.591250425060781*^9, 
   3.5912504274191008`*^9}, {3.59125045807473*^9, 3.591250517668788*^9}, {
   3.592322544113718*^9, 3.592322547480382*^9}, {3.5935382492757807`*^9, 
   3.593538323133445*^9}, {3.593538380547173*^9, 3.59353848221391*^9}, {
   3.5935392453978024`*^9, 3.5935392570926237`*^9}, {3.627039083769657*^9, 
   3.627039093833117*^9}, {3.6270392885431633`*^9, 3.627039331740234*^9}, {
   3.627040424610591*^9, 3.627040439399218*^9}, {3.627042128141202*^9, 
   3.627042128248746*^9}, {3.627042242514501*^9, 
   3.62704228882651*^9}},ExpressionUUID->"ba255383-05f5-46b2-a338-\
5e165bdd2957"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"1", "D", " ", "Testcases", " ", "Trafo"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"d", "=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"{", 
      RowBox[{"2", ",", "4", ",", "10", ",", "25", ",", "50"}], "}"}]}], 
    ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"Table", "[", 
      RowBox[{"NN", ",", 
       RowBox[{"{", 
        RowBox[{"j", ",", "1", ",", "d"}], "}"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"NN", "[", 
      RowBox[{"[", "0", "]"}], "]"}], "=", "Sequence"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{"Outer", "[", 
        RowBox[{"List", ",", "NN"}], "]"}], ",", 
       RowBox[{"d", "-", "1"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"M", "=", 
     RowBox[{"{", 
      RowBox[{"1", ",", "10", ",", "25", ",", "50"}], "}"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"x", " ", "=", " ", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"MakeTestcase", "[", 
            RowBox[{
             RowBox[{"NN", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{"M", "[", 
              RowBox[{"[", "j", "]"}], "]"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"j", ",", "1", ",", 
             RowBox[{"Length", "[", "M", "]"}]}], "}"}]}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "NN", "]"}]}], "}"}]}], "]"}], ",", "1"}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"StringJoin", "[", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{"Function", "[", 
       RowBox[{"y", ",", 
        RowBox[{"\"\<static const testcase_delegate_file_t \>\"", " ", "<>", 
         RowBox[{"y", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "<>", 
         "\"\< = {setup_file,destroy_file,ABSPATH(\\\"\>\"", "<>", " ", 
         RowBox[{"y", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<\\\")};\\n\>\""}]}], 
       "]"}], ",", "x"}], "]"}], "]"}], "\[IndentingNewLine]", 
   RowBox[{"FormatVector", "[", 
    RowBox[{
     RowBox[{"x", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}], ",", " ", 
     "\"\<*testcases_1d_file\>\"", ",", " ", 
     "\"\<testcase_delegate_file_t\>\"", ",", " ", "Formatter"}], 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.5173840443832397`*^9, 3.517384081724496*^9}, {
   3.517384180922477*^9, 3.517384425381447*^9}, {3.51767461454566*^9, 
   3.5176746284180737`*^9}, {3.517674660990048*^9, 3.517674671275931*^9}, {
   3.517674784712487*^9, 3.51767478525749*^9}, {3.517674879128593*^9, 
   3.517674881205332*^9}, {3.518114950576809*^9, 3.518114954403322*^9}, {
   3.518115098971106*^9, 3.5181151104874153`*^9}, {3.518194668914782*^9, 
   3.5181946821969357`*^9}, {3.518194734269782*^9, 3.518194735094262*^9}, {
   3.518194773462639*^9, 3.518194875034071*^9}, {3.518194949105473*^9, 
   3.518194987735242*^9}, 3.51819521869759*^9, {3.5181952521605186`*^9, 
   3.518195257942354*^9}, {3.518196034802575*^9, 3.5181960559626827`*^9}, {
   3.518196971634709*^9, 3.518197069048802*^9}, {3.5181975442351294`*^9, 
   3.518197547442575*^9}, {3.518197629827517*^9, 3.518197630432558*^9}, {
   3.5483363721060057`*^9, 3.548336382723646*^9}, {3.548336568717052*^9, 
   3.548336631597205*^9}, {3.548336745404522*^9, 3.5483368903217897`*^9}, {
   3.5483372613781643`*^9, 3.548337281078226*^9}, {3.548337760289608*^9, 
   3.548337791653308*^9}, {3.5483379559441223`*^9, 3.548337985056346*^9}, {
   3.548338045405122*^9, 3.54833809056406*^9}, {3.5483442863008347`*^9, 
   3.548344431490254*^9}, {3.548344516346612*^9, 3.54834452160181*^9}, {
   3.5483445634454823`*^9, 3.548344603589292*^9}, {3.548344673892972*^9, 
   3.548344674043014*^9}, {3.5912505876217327`*^9, 3.5912505881199083`*^9}, {
   3.591544996230394*^9, 3.591545006562292*^9}, {3.591545042326754*^9, 
   3.591545045425953*^9}, {3.5915450820129423`*^9, 3.591545082636587*^9}, {
   3.591545161262951*^9, 3.591545163237905*^9}, {3.593538497342165*^9, 
   3.593538500841062*^9}, {3.593538562687183*^9, 3.593538593798908*^9}, {
   3.7956128670127783`*^9, 
   3.7956128731195498`*^9}},ExpressionUUID->"db4dd1e0-f389-4bcd-ab01-\
67153de8be7d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"1", "D", " ", "Testcases", " ", "Adjoint"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"d", "=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"{", 
      RowBox[{"2", ",", "4", ",", "10", ",", "25", ",", "50"}], "}"}]}], 
    ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"Table", "[", 
      RowBox[{"NN", ",", 
       RowBox[{"{", 
        RowBox[{"j", ",", "1", ",", "d"}], "}"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"NN", "[", 
      RowBox[{"[", "0", "]"}], "]"}], "=", "Sequence"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{"Outer", "[", 
        RowBox[{"List", ",", "NN"}], "]"}], ",", 
       RowBox[{"d", "-", "1"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"M", "=", 
     RowBox[{"{", 
      RowBox[{"1", ",", "10", ",", "25", ",", "50"}], "}"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"x", " ", "=", " ", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"MakeTestcaseAdjoint", "[", 
            RowBox[{
             RowBox[{"NN", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{"M", "[", 
              RowBox[{"[", "j", "]"}], "]"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"j", ",", "1", ",", 
             RowBox[{"Length", "[", "M", "]"}]}], "}"}]}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "NN", "]"}]}], "}"}]}], "]"}], ",", "1"}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"StringJoin", "[", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{"Function", "[", 
       RowBox[{"y", ",", 
        RowBox[{"\"\<static const testcase_delegate_file_t \>\"", " ", "<>", 
         RowBox[{"y", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "<>", 
         "\"\< = {setup_file,destroy_file,ABSPATH(\\\"\>\"", "<>", " ", 
         RowBox[{"y", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<\\\")};\\n\>\""}]}], 
       "]"}], ",", "x"}], "]"}], "]"}], "\[IndentingNewLine]", 
   RowBox[{"FormatVector", "[", 
    RowBox[{
     RowBox[{"x", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}], ",", " ", 
     "\"\<*testcases_adjoint_1d_file\>\"", ",", " ", 
     "\"\<testcase_delegate_file_t\>\"", ",", " ", "Formatter"}], 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.593538598765287*^9, 3.593538620185602*^9}, {
  3.795612846330943*^9, 
  3.795612853721611*^9}},ExpressionUUID->"a95c9889-8689-4c59-9878-\
05b7b919dbe6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"2", "D", " ", "Testcases", " ", "Trafo"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"d", "=", "2"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"{", 
      RowBox[{"10", ",", "25"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"Table", "[", 
      RowBox[{"NN", ",", 
       RowBox[{"{", 
        RowBox[{"j", ",", "1", ",", "d"}], "}"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"NN", "[", 
      RowBox[{"[", "0", "]"}], "]"}], "=", "Sequence"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{"Outer", "[", 
        RowBox[{"List", ",", "NN"}], "]"}], ",", 
       RowBox[{"d", "-", "1"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"M", "=", 
     RowBox[{"{", 
      RowBox[{"25", ",", "50"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"x", " ", "=", " ", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"MakeTestcase", "[", 
            RowBox[{
             RowBox[{"NN", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{"M", "[", 
              RowBox[{"[", "j", "]"}], "]"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"j", ",", "1", ",", 
             RowBox[{"Length", "[", "M", "]"}]}], "}"}]}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "NN", "]"}]}], "}"}]}], "]"}], ",", "1"}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"StringJoin", "[", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{"Function", "[", 
       RowBox[{"y", ",", 
        RowBox[{"\"\<static const testcase_delegate_file_t \>\"", " ", "<>", 
         RowBox[{"y", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "<>", 
         "\"\< = {setup_file,destroy_file,ABSPATH(\\\"\>\"", "<>", " ", 
         RowBox[{"y", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<\\\")};\\n\>\""}]}], 
       "]"}], ",", "x"}], "]"}], "]"}], "\[IndentingNewLine]", 
   RowBox[{"FormatVector", "[", 
    RowBox[{
     RowBox[{"x", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}], ",", " ", 
     "\"\<*testcases_2d_file\>\"", ",", " ", 
     "\"\<testcase_delegate_file_t\>\"", ",", " ", "Formatter"}], 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.518197155351283*^9, 3.5181971627478523`*^9}, {
   3.518197246832231*^9, 3.518197473939831*^9}, {3.518197565862846*^9, 
   3.5181975665474453`*^9}, {3.5181976205553493`*^9, 3.518197620890814*^9}, {
   3.548344631084435*^9, 3.54834465895175*^9}, {3.548344709542242*^9, 
   3.5483447374599237`*^9}, {3.548344793350206*^9, 3.548344809958082*^9}, {
   3.5483466580895443`*^9, 3.5483466669263077`*^9}, {3.5915450076746683`*^9, 
   3.591545047737488*^9}, 3.591545090251132*^9, {3.5915451664250937`*^9, 
   3.591545167287318*^9}, {3.593538656386428*^9, 3.5935386567364397`*^9}, {
   3.593538687490222*^9, 3.593538688326289*^9}, {3.627039685063574*^9, 
   3.6270396866865997`*^9}, {3.6270397190004463`*^9, 3.627039723448547*^9}, {
   3.627040188861188*^9, 3.627040193839114*^9}, {3.627042297138122*^9, 
   3.627042302574615*^9}, {3.795612830714613*^9, 
   3.795612838837202*^9}},ExpressionUUID->"705f5a01-fc4a-4588-bce8-\
071baffa5612"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"2", "D", " ", "Testcases", " ", "Adjoint"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"d", "=", "2"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"{", 
      RowBox[{"10", ",", "25"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"Table", "[", 
      RowBox[{"NN", ",", 
       RowBox[{"{", 
        RowBox[{"j", ",", "1", ",", "d"}], "}"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"NN", "[", 
      RowBox[{"[", "0", "]"}], "]"}], "=", "Sequence"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{"Outer", "[", 
        RowBox[{"List", ",", "NN"}], "]"}], ",", 
       RowBox[{"d", "-", "1"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"M", "=", 
     RowBox[{"{", 
      RowBox[{"25", ",", "50"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"x", " ", "=", " ", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"MakeTestcaseAdjoint", "[", 
            RowBox[{
             RowBox[{"NN", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{"M", "[", 
              RowBox[{"[", "j", "]"}], "]"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"j", ",", "1", ",", 
             RowBox[{"Length", "[", "M", "]"}]}], "}"}]}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "NN", "]"}]}], "}"}]}], "]"}], ",", "1"}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"StringJoin", "[", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{"Function", "[", 
       RowBox[{"y", ",", 
        RowBox[{"\"\<static const testcase_delegate_file_t \>\"", " ", "<>", 
         RowBox[{"y", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "<>", 
         "\"\< = {setup_file,destroy_file,ABSPATH(\\\"\>\"", "<>", " ", 
         RowBox[{"y", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<\\\")};\\n\>\""}]}], 
       "]"}], ",", "x"}], "]"}], "]"}], "\[IndentingNewLine]", 
   RowBox[{"FormatVector", "[", 
    RowBox[{
     RowBox[{"x", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}], ",", " ", 
     "\"\<*testcases_adjoint_2d_file\>\"", ",", " ", 
     "\"\<testcase_delegate_file_t\>\"", ",", " ", "Formatter"}], 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.593538665067552*^9, 3.593538691601541*^9}, {
  3.6270394191645803`*^9, 3.627039421625848*^9}, {3.795612800938916*^9, 
  3.795612822545516*^9}},ExpressionUUID->"bae3ce9e-6ad9-43f0-b777-\
ea3677d63989"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"3", "D", " ", "Testcases", " ", "Trafo"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"d", "=", "3"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"{", 
      RowBox[{"5", ",", "10"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"Table", "[", 
      RowBox[{"NN", ",", 
       RowBox[{"{", 
        RowBox[{"j", ",", "1", ",", "d"}], "}"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"NN", "[", 
      RowBox[{"[", "0", "]"}], "]"}], "=", "Sequence"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{"Outer", "[", 
        RowBox[{"List", ",", "NN"}], "]"}], ",", 
       RowBox[{"d", "-", "1"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"M", "=", 
     RowBox[{"{", 
      RowBox[{"5", ",", "10"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"x", " ", "=", " ", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"MakeTestcase", "[", 
            RowBox[{
             RowBox[{"NN", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{"M", "[", 
              RowBox[{"[", "j", "]"}], "]"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"j", ",", "1", ",", 
             RowBox[{"Length", "[", "M", "]"}]}], "}"}]}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "NN", "]"}]}], "}"}]}], "]"}], ",", "1"}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"StringJoin", "[", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{"Function", "[", 
       RowBox[{"y", ",", 
        RowBox[{"\"\<static const testcase_delegate_file_t \>\"", " ", "<>", 
         RowBox[{"y", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "<>", 
         "\"\< = {setup_file,destroy_file,ABSPATH(\\\"\>\"", "<>", " ", 
         RowBox[{"y", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<\\\")};\\n\>\""}]}], 
       "]"}], ",", "x"}], "]"}], "]"}], "\[IndentingNewLine]", 
   RowBox[{"FormatVector", "[", 
    RowBox[{
     RowBox[{"x", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}], ",", " ", 
     "\"\<*testcases_3d_file\>\"", ",", " ", 
     "\"\<testcase_delegate_file_t\>\"", ",", " ", "Formatter"}], 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.518197606681448*^9, 3.518197615153542*^9}, {
   3.5483451910722103`*^9, 3.5483452622079287`*^9}, {3.5483453352624826`*^9, 
   3.548345337453582*^9}, {3.548345370487627*^9, 3.5483453706498127`*^9}, {
   3.5483467419758577`*^9, 3.548346746749652*^9}, {3.548346925708653*^9, 
   3.5483469438417873`*^9}, {3.548347041873805*^9, 3.548347042368384*^9}, {
   3.5483471141121607`*^9, 3.54834711944681*^9}, {3.54834715646264*^9, 
   3.5483471569767027`*^9}, {3.548347414821805*^9, 3.548347416066527*^9}, {
   3.5915450136367273`*^9, 3.591545049924941*^9}, 3.5915450918888407`*^9, {
   3.591545168950128*^9, 3.591545169962603*^9}, {3.59353869812422*^9, 
   3.5935387078767843`*^9}, {3.795613806775816*^9, 
   3.7956138137204514`*^9}},ExpressionUUID->"7db9a8f9-5a1f-4b88-8c2d-\
d49d31b192a6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"3", "D", " ", "Testcases", " ", "Adjoint"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"d", "=", "3"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"{", 
      RowBox[{"5", ",", "10"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"Table", "[", 
      RowBox[{"NN", ",", 
       RowBox[{"{", 
        RowBox[{"j", ",", "1", ",", "d"}], "}"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"NN", "[", 
      RowBox[{"[", "0", "]"}], "]"}], "=", "Sequence"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{"Outer", "[", 
        RowBox[{"List", ",", "NN"}], "]"}], ",", 
       RowBox[{"d", "-", "1"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"M", "=", 
     RowBox[{"{", 
      RowBox[{"5", ",", "10"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"x", " ", "=", " ", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"MakeTestcaseAdjoint", "[", 
            RowBox[{
             RowBox[{"NN", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{"M", "[", 
              RowBox[{"[", "j", "]"}], "]"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"j", ",", "1", ",", 
             RowBox[{"Length", "[", "M", "]"}]}], "}"}]}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "NN", "]"}]}], "}"}]}], "]"}], ",", "1"}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"StringJoin", "[", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{"Function", "[", 
       RowBox[{"y", ",", 
        RowBox[{"\"\<static const testcase_delegate_file_t \>\"", " ", "<>", 
         RowBox[{"y", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "<>", 
         "\"\< = {setup_file,destroy_file,ABSPATH(\\\"\>\"", "<>", " ", 
         RowBox[{"y", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<\\\")};\\n\>\""}]}], 
       "]"}], ",", "x"}], "]"}], "]"}], "\[IndentingNewLine]", 
   RowBox[{"FormatVector", "[", 
    RowBox[{
     RowBox[{"x", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}], ",", " ", 
     "\"\<*testcases_adjoint_3d_file\>\"", ",", " ", 
     "\"\<testcase_delegate_file_t\>\"", ",", " ", "Formatter"}], 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.593538703953491*^9, 3.5935387170726357`*^9}, {
  3.7956138214482393`*^9, 
  3.7956138267476997`*^9}},ExpressionUUID->"47bbb812-da3b-4d8e-a79e-\
61d7c6e23516"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"4", "D", " ", "Testcases", " ", "Trafo"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"d", "=", "4"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"{", "10", "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"Table", "[", 
      RowBox[{"NN", ",", 
       RowBox[{"{", 
        RowBox[{"j", ",", "1", ",", "d"}], "}"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"NN", "[", 
      RowBox[{"[", "0", "]"}], "]"}], "=", "Sequence"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"NN", "=", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{"Outer", "[", 
        RowBox[{"List", ",", "NN"}], "]"}], ",", 
       RowBox[{"d", "-", "1"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"M", "=", 
     RowBox[{"{", "10", "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"x", " ", "=", " ", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"MakeTestcase", "[", 
            RowBox[{
             RowBox[{"NN", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{"M", "[", 
              RowBox[{"[", "j", "]"}], "]"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"j", ",", "1", ",", 
             RowBox[{"Length", "[", "M", "]"}]}], "}"}]}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "NN", "]"}]}], "}"}]}], "]"}], ",", "1"}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"StringJoin", "[", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{"Function", "[", 
       RowBox[{"y", ",", 
        RowBox[{"\"\<static const testcase_delegate_file_t \>\"", " ", "<>", 
         RowBox[{"y", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "<>", 
         "\"\< = {setup_file,destroy_file,ABSPATH(\\\"\>\"", "<>", " ", 
         RowBox[{"y", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<\\\")};\\n\>\""}]}], 
       "]"}], ",", "x"}], "]"}], "]"}], "\[IndentingNewLine]", 
   RowBox[{"FormatVector", "[", 
    RowBox[{
     RowBox[{"x", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}], ",", " ", 
     "\"\<*testcases_4d_file\>\"", ",", " ", 
     "\"\<testcase_delegate_file_t\>\"", ",", " ", "Formatter"}], 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.548337660709242*^9, 3.5483376910598288`*^9}, {
  3.548347420747239*^9, 3.548347430447401*^9}, {3.591545022249495*^9, 
  3.5915450523366613`*^9}, {3.591545093100852*^9, 3.591545094948818*^9}, {
  3.591545173675761*^9, 3.5915451743999863`*^9}, {3.593538740179062*^9, 
  3.593538746648733*^9}},ExpressionUUID->"c9262d68-6bf7-4f97-bac6-\
e7a79d892da1"]
},
AutoGeneratedPackage->Automatic,
WindowSize->{1279.5, 705.75},
WindowMargins->{{Automatic, -5.25}, {-9, Automatic}},
PrivateNotebookOptions->{"VersionedStylesheet"->{"Default.nb"[8.] -> False}},
FrontEndVersion->"12.1 for Linux x86 (64-bit) (March 14, 2020)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"1f38b35e-1d2b-472d-b622-b26657272f43"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[545, 20, 1678, 28, 67, "Input",ExpressionUUID->"aed704da-1ca1-45ec-9895-01bb81359921",
 InitializationCell->True,
 InitializationGroup->True],
Cell[2226, 50, 412, 12, 45, "Input",ExpressionUUID->"6204fefe-bda5-445d-b016-e9180f4f42d1",
 InitializationCell->True,
 InitializationGroup->True],
Cell[2641, 64, 21254, 480, 1242, "Input",ExpressionUUID->"ba255383-05f5-46b2-a338-5e165bdd2957",
 InitializationCell->True,
 InitializationGroup->True],
Cell[23898, 546, 4571, 104, 216, "Input",ExpressionUUID->"db4dd1e0-f389-4bcd-ab01-67153de8be7d"],
Cell[28472, 652, 2877, 81, 216, "Input",ExpressionUUID->"a95c9889-8689-4c59-9878-05b7b919dbe6"],
Cell[31352, 735, 3574, 89, 216, "Input",ExpressionUUID->"705f5a01-fc4a-4588-bce8-071baffa5612"],
Cell[34929, 826, 2864, 79, 216, "Input",ExpressionUUID->"bae3ce9e-6ad9-43f0-b777-ea3677d63989"],
Cell[37796, 907, 3426, 87, 216, "Input",ExpressionUUID->"7db9a8f9-5a1f-4b88-8c2d-d49d31b192a6"],
Cell[41225, 996, 2820, 79, 216, "Input",ExpressionUUID->"47bbb812-da3b-4d8e-a79e-61d7c6e23516"],
Cell[44048, 1077, 2939, 79, 216, "Input",ExpressionUUID->"c9262d68-6bf7-4f97-bac6-e7a79d892da1"]
}
]
*)

